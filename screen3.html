<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Screen 3 - M·ªü qu√†</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: black;
        overflow: hidden;
        text-align: center;
        color: white;
        font-family: Arial, sans-serif;
    }

    #gift-container {
        position: relative;
        width: 550px;
        height: 550px;
        margin: 100px auto 0 auto;
    }

    #than-hop {
        width: 100%;
        position: relative;
        top: 50px; /* Th√¢n h·ªôp th·∫•p h∆°n */
        z-index: 1;
    }

    #nap-hop {
        width: 100%;
        position: absolute;
        top: -90px;
        left: 0;
        transform-origin: center bottom;
        z-index: 2;
        transition: transform 1s ease;
    }

    #anh-qua {
        position: absolute;
        top: 60%;
        left: 50%;
        width: 0;
        height: auto;
        transform: translate(-50%, -50%);
        transition: width 2s ease;
        z-index: 3;
    }

    #loi-chuc {
        position: absolute;
        top: 62%;
        left: 30%;
        transform: translate(-50%, -50%) scale(0.8);
        z-index: 999;
        font-size: 32px;
        padding: 32px 24px;
        border: 4px solid gold;
        color: red;
        font-weight: bold;
        background-color: #fff5e1;
        border-radius: 10px;
        opacity: 0;
        display: none;
    }

    #tac-gia {
        position: fixed;
        bottom: 10px;
        right: 10px;
        font-size: 14px;
        color: #ccc;
    }

    #open-btn {
        margin-top: 40px;
        padding: 20px 30px;
        font-size: 30px;
        background: rgb(226, 195, 16);
        color: black;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
    }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div id="gift-container">
    <img id="nap-hop" src="assets/naphop.png" alt="N·∫Øp h·ªôp">
    <img id="than-hop" src="assets/thanhop.jpg" alt="Th√¢n h·ªôp">
    <img id="anh-qua" src="assets/anhqua.jpg" alt="·∫¢nh qu√†">
</div>

<div id="loi-chuc"></div>

<button id="open-btn">M·ªü qu√†</button>

<div id="tac-gia">T√°c gi·∫£: L·ªôc Th√†nh | 0823151988</div>

<audio id="bg-music" src="assets/music.mp3" autoplay loop></audio>

<script src="assets/firework.js"></script>
<script>
    const napHop = document.getElementById("nap-hop");
    const anhQua = document.getElementById("anh-qua");
    const loiChuc = document.getElementById("loi-chuc");
    const bgMusic = document.getElementById("bg-music");
    const openBtn = document.getElementById("open-btn");

    // Khi load trang => nh·∫°c & ph√°o hoa
    window.onload = () => {
        bgMusic.play().catch(() => console.log("Tr√¨nh duy·ªát ch·∫∑n autoplay"));
        startFireworks(5000);
    };

    // M·ªü qu√†
    openBtn.addEventListener("click", () => {
        napHop.style.transform = "rotate(-45deg) translateY(-120px)";

        // Sau khi n·∫Øp b·∫≠t => hi·ªán ·∫£nh qu√†
        setTimeout(() => {
            anhQua.style.width = "700px";

            // Khi ·∫£nh qu√† hi·ªán xong => hi·ªán l·ªùi ch√∫c
            setTimeout(() => {
                typeWriterEffect("üéâ M√≥n qu√† ƒë·∫∑c bi·ªát nh·∫•t d√†nh cho ƒë·ªùi m ch√≠nh l√† t.ch√∫c m·ª´ng sinh nh·∫≠t üéâ");
            }, 2000);
        }, 1000);

        // B·∫Øn ph√°o hoa th√™m l·∫ßn n·ªØa
        startFireworks(5000);

        // ·∫®n n√∫t m·ªü
        openBtn.style.display = "none";
    });

    // Hi·ªáu ·ª©ng g√µ ch·ªØ
    function typeWriterEffect(text) {
        loiChuc.style.display = "inline-block";
        loiChuc.textContent = "";
        loiChuc.style.opacity = "1";
        let i = 0;
        const speed = 100;
        const interval = setInterval(() => {
            loiChuc.textContent += text.charAt(i);
            i++;
            if (i >= text.length) clearInterval(interval);
        }, speed);
    }

    // H√†m ph√°o hoa
    function startFireworks(duration = 4000) {
        if (typeof Fireworks === "function") {
            new Fireworks({
                target: document.getElementById("fireworks"),
                duration: duration
            });
        }
    }
</script>

</body>
</html>
