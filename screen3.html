<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Screen 3 - M·ªü qu√†</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: black;
        overflow: hidden;
        text-align: center;
        color: white;
        font-family: Arial, sans-serif;
    }

    #gift-container {
        position: relative;
        width: 350px;
        height: 350px;
        margin: 100px auto 0 auto;
    }

    #than-hop {
        width: 100%;
        position: relative;
        top: 30px; /* th√¢n h·ªôp th·∫•p h∆°n */
        z-index: 1;
    }

    #nap-hop {
        width: 100%;
        position: absolute;
        top: -90px;
        left: 0;
        transform-origin: center bottom;
        z-index: 2;
        transition: transform 1s ease;
    }

    #anh-qua {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: auto;
        transform: translate(-50%, -50%);
        transition: width 2s ease;
        z-index: 3;
    }

    #loi-chuc {
    position: absolute;
    top: 80%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    z-index: 999;
    font-size: 32px;
    padding: 12px 24px;
    border: 4px solid gold;
    color: red;
    font-weight: bold;
    background-color: #fff5e1;
    border-radius: 10px;
    opacity: 0;
    display: none;
}


    #tac-gia {
        position: fixed;
        bottom: 10px;
        right: 10px;
        font-size: 14px;
        color: #ccc;
    }

    #open-btn {
        margin-top: 40px;
        padding: 20px 30px;
        font-size: 30px;
        background: rgb(226, 195, 16);
        color: black;
        border: none;
        border-radius: 10px;
        cursor: pointer;
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
    }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div id="gift-container">
    <img id="nap-hop" src="assets/naphop.png" alt="N·∫Øp h·ªôp">
    <img id="than-hop" src="assets/thanhop.jpg" alt="Th√¢n h·ªôp">
    <img id="anh-qua" src="assets/anhqua.jpg" alt="·∫¢nh qu√†">
</div>

<div id="loi-chuc"></div>

<button id="open-btn">M·ªü qu√†</button>

<div id="tac-gia">T√°c gi·∫£: L·ªôc Th√†nh | 0123456789</div>

<audio id="bg-music" src="assets/music.mp3" autoplay loop></audio>

<script src="assets/firework.js"></script>
<script>
    const napHop = document.getElementById("nap-hop");
    const anhQua = document.getElementById("anh-qua");
    const loiChuc = document.getElementById("loi-chuc");
    const bgMusic = document.getElementById("bg-music");
    const openBtn = document.getElementById("open-btn");

    // Khi trang load => t·ª± ph√°t nh·∫°c & ph√°o hoa
    window.onload = () => {
        bgMusic.play().catch(() => console.log("Tr√¨nh duy·ªát ch·∫∑n autoplay"));
        startFireworks(5000);
    };

    // N√∫t m·ªü qu√†
    openBtn.addEventListener("click", () => {
        // N·∫Øp h·ªôp b·∫≠t l√™n
        napHop.style.transform = "rotate(-45deg) translateY(-120px)";

        // Sau khi n·∫Øp b·∫≠t l√™n, ·∫£nh qu√† hi·ªán ra
        setTimeout(() => {
            anhQua.style.width = "400px";

            // Sau khi ·∫£nh qu√† load xong th√¨ hi·ªán popup ch·ªØ ki·ªÉu g√µ
            setTimeout(() => {
                typeWriterEffect("üéâ Ch√∫c m·ª´ng sinh nh·∫≠t üéâ");
            }, 500);
        }, 1500);

        // Ph√°o hoa th√™m l·∫ßn n·ªØa
        startFireworks(5000);

        // ·∫®n n√∫t m·ªü
        openBtn.style.display = "none";
    });

    // H√†m hi·ªáu ·ª©ng g√µ ch·ªØ
    function typeWriterEffect(text) {
        loiChuc.style.display = "inline-block";
        loiChuc.textContent = "";
        loiChuc.style.transition = "all 0.5s ease";
        loiChuc.style.transform = "scale(1)";
        loiChuc.style.opacity = "1";

        let i = 0;
        const speed = 100; // t·ªëc ƒë·ªô g√µ (ms)

        const interval = setInterval(() => {
            loiChuc.textContent += text.charAt(i);
            i++;
            if (i >= text.length) clearInterval(interval);
        }, speed);
    }

    // ==== H√†m ph√°o hoa (l·∫•y t·ª´ assets/firework.js) ====
    function startFireworks(duration = 4000) {
        if (typeof Fireworks === "function") {
            new Fireworks({
                target: document.getElementById("fireworks"),
                duration: duration
            });
        }
    }
</script>

</body>
</html>
